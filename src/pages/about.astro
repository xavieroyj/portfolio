---
import { Icon } from "astro-icon/components";
import GenericLayout from "../layouts/GenericLayout.astro";

// You may want to move these to separate data files later for better maintainability
const experiences = [
    {
        title: "Junior Web Developer",
        company: "Tech Startup",
        period: "2024 - Present",
        location: "Remote",
        summary:
            "Developing and maintaining web applications using JavaScript, HTML, and CSS. Collaborating with the team to implement new features and fix bugs.",
        responsibilities: [
            "Collaborated with senior developers to design and implement web applications using modern JavaScript frameworks",
            "Assisted in debugging and optimizing front-end code to ensure smooth user experiences",
            "Participated in code reviews and contributed to improving coding standards within the team",
        ],
        achievements: [
            "Developing and maintaining web applications using JavaScript, HTML, and CSS. Collaborating with the team to implement new features and fix bugs.",
        ],
        tags: ["React", "Tailwind", "Django"],
    },
    {
        title: "Junior Software Developer",
        company: "Innovative Solutions",
        period: "2022 - 2023",
        location: "Wellington, New Zealand",
        summary:
            "Assisting in the development and maintenance of software applications using Python and Django. Collaborating with cross-functional teams to ensure quality and timely delivery of software solutions.",
        responsibilities: ["Backend development", "Database management"],
        tags: ["Python", "Django", "SQL", "Git"],
    },
    {
        title: "Intern Web Developer",
        company: "Web Agency",
        period: "2022 - 2022",
        location: "Sydney, Australia",
        summary:
            "Assisted in developing client websites and applications. Gained hands-on experience with front-end and back-end technologies.",
        responsibilities: ["Website development", "Client communication"],
        tags: [],
    },
];

const projects = [
    {
        title: "Personal Portfolio",
        description:
            "A personal portfolio website to showcase my projects and skills",
        features: [
            "Built with React and Tailwind CSS",
            "Includes a blog and contact form",
        ],
        link: "#",
    },
    {
        title: "Weather App",
        description:
            "A web application that provides weather information for any location",
        features: [
            "Built with JavaScript and OpenWeatherMap API",
            "Responsive design",
        ],
        link: "#",
    },
    {
        title: "Task Manager",
        description:
            "A simple task management app to keep track of daily tasks",
        features: [
            "Built with Node.js and MongoDB",
            "User authentication and CRUD operations",
        ],
        link: "#",
    },
    {
        title: "E-commerce Site",
        description:
            "An online store built with Next.js and Stripe for payment processing",
        features: [
            "Product management and shopping cart functionality",
            "Secure payment integration",
        ],
        link: "#",
    },
];

const skills = [
    "Figma",
    "GitLab",
    "HTML",
    "CSS",
    "JavaScript",
    "Tailwind",
    "TypeScript",
    "Node",
    "MySQL",
    "Git",
    "GitHub",
    "Next.js",
    "React",
];

const education = [
    {
        institution: "State University",
        degree: "Computer Science",
        period: "2019 - 2022",
    },
    {
        institution: "Tech Institute",
        degree: "Software Engineering",
        period: "2020 - 2022",
    },
    {
        institution: "City College",
        degree: "Information Technology",
        period: "2017 - 2019",
    },
];

const certificates = [
    {
        title: "Full Stack Web Development",
        institution: "Online University",
        year: "2021",
    },
];
---

<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

<GenericLayout title="About">
    <div class="flex justify-center">
        <main class="relative grid max-w-7xl gap-12 p-8 max-sm:py-16 md:grid-cols-6 md:p-16 xl:gap-24">
            <!-- Left Column -->
            <div class="md:col-span-2">
                <!-- Profile Section -->
                <div class="flex flex-col gap-4">
                    <img
                        src="/profile.png"
                        alt="Profile"
                        class="h-48 w-48 rounded-full border-2 border-purple-500"
                    />
                    <h1 class="text-2xl font-bold dark:text-gray-200">Xavier Ong</h1>
                    <p class="text-gray-600 dark:text-gray-400">Junior Full Stack Developer</p>
                    <p class="text-gray-600 dark:text-gray-400">Singapore</p>

                    <!-- Social Links - Horizontal Layout -->
                    <div class="flex gap-3">
                        <a href="#" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                            <Icon name="github"/>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                            <Icon name="linkedin"/>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                            <Icon name="x"/>
                        </a>
                    </div>
                </div>

                <!-- About Section -->
                <div class="mt-8">
                    <h2 class="text-xl font-bold dark:text-white">About</h2>
                    <p class="mt-2 text-gray-600 dark:text-gray-400">
                        Junior Full Stack Developer with a passion for building web
                        applications. Currently seeking opportunities to further
                        develop my skills in a professional setting.
                    </p>
                </div>
            </div>

            <!-- Right Column -->
            <div class="md:col-span-4 space-y-12">
                <!-- Experience Section -->
                <section>
                    <h2 class="text-2xl font-bold mb-8 dark:text-white">Experience</h2>
                    <div class="space-y-12">
                        {
                            experiences.map((exp) => (
                                <div x-data="{ expanded: false }" class="space-y-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h3 class="font-semibold text-gray-900 dark:text-gray-100">
                                                {exp.title} @ <a href="#" class="text-purple-500 dark:text-purple-400">{exp.company}</a> →
                                            </h3>
                                            <p class="text-gray-500 dark:text-gray-400/90">{exp.location} · On site</p>
                                        </div>
                                        <span class="text-gray-500 dark:text-gray-400">{exp.period}</span>
                                    </div>

                                    <div class="relative">
                                        <div class="space-y-4">
                                            <div class="space-y-2">
                                                <h4 class="text-sm font-medium text-gray-900 dark:text-gray-200/90">Summary:</h4>
                                                <ul class="space-y-1 pl-4">
                                                    <li class="text-gray-600 dark:text-gray-300/90 text-sm before:content-['•'] before:text-purple-500 dark:before:text-purple-400 before:mr-2">
                                                        {exp.summary}
                                                    </li>
                                                </ul>
                                            </div>

                                            <div class="space-y-2">
                                                <h4 class="text-sm font-medium text-gray-900 dark:text-gray-200/90">Responsibilities:</h4>
                                                <ul class="space-y-1 pl-4">
                                                    {exp.responsibilities.map((item) => (
                                                        <li class="text-gray-600 dark:text-gray-300/90 text-sm before:content-['•'] before:text-purple-500 dark:before:text-purple-400 before:mr-2">
                                                            {item}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>

                                            <div class="space-y-2" x-show="expanded">
                                                <h4 class="text-sm font-medium text-gray-900 dark:text-gray-200/90">Achievements:</h4>
                                                <ul class="space-y-1 pl-4">
                                                    {exp.achievements?.map((item) => (
                                                        <li class="text-gray-600 dark:text-gray-300/90 text-sm before:content-['•'] before:text-purple-500 dark:before:text-purple-400 before:mr-2">
                                                            {item}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- Gradient overlay that only shows when not expanded -->
                                        <div 
                                            x-show="!expanded" 
                                            class="absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-white via-white/80 to-transparent dark:from-[#000000] dark:via-[#000000]/95 dark:to-transparent"
                                        ></div>

                                        <!-- Container that controls the height -->
                                        <div 
                                            x-show="!expanded" 
                                            class="absolute inset-0 max-h-32"
                                        ></div>
                                    </div>

                                    <div class="flex flex-wrap gap-2">
                                        {exp.tags.map((tag) => (
                                            <span class="px-3 py-1 bg-purple-50 dark:bg-purple-900/30 text-purple-500 dark:text-white rounded-full text-xs">
                                                {tag}
                                            </span>
                                        ))}
                                    </div>

                                    <button 
                                        @click="expanded = !expanded" 
                                        class="text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 flex items-center gap-1"
                                    >
                                        <span x-text="expanded ? 'Show less' : 'Show more'"></span>
                                        <svg 
                                            class="w-4 h-4 transition-transform"
                                            :class="{ 'rotate-180': expanded }"
                                            viewBox="0 0 20 20" 
                                            fill="currentColor"
                                        >
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                        </svg>
                                    </button>
                                </div>
                            ))
                        }
                    </div>
                </section>

                <!-- Projects Section -->
                <section>
                    <h2 class="text-2xl font-bold mb-8 dark:text-white">Projects</h2>
                    <div class="grid grid-cols-2 gap-6">
                        {
                            projects.map((project) => (
                                <div class="border dark:border-gray-700 rounded-lg p-6 dark:bg-gray-800/50">
                                    <div class="flex justify-between items-center">
                                        <h3 class="font-semibold dark:text-white">
                                            {project.title}
                                        </h3>
                                        <a
                                            href={project.link}
                                            class="text-purple-500"
                                        >
                                            →
                                        </a>
                                    </div>
                                    <ul class="mt-4 space-y-2 text-gray-600 dark:text-gray-400">
                                        {project.features.map((feature) => (
                                            <li class="list-disc list-inside">
                                                {feature}
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ))
                        }
                    </div>
                </section>

                <!-- Skills Section -->
                <section>
                    <h2 class="text-2xl font-bold mb-6 dark:text-white">Skills</h2>
                    <div class="flex flex-wrap gap-3">
                        {
                            skills.map((skill) => (
                                <span class="px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-full text-sm">
                                    {skill}
                                </span>
                            ))
                        }
                    </div>
                </section>

                <!-- Education Section -->
                <section>
                    <h2 class="text-2xl font-bold mb-6 dark:text-white">Education</h2>
                    <div class="space-y-4">
                        {
                            education.map((edu) => (
                                <div class="flex justify-between">
                                    <div>
                                        <h3 class="font-semibold dark:text-white">
                                            {edu.institution}
                                        </h3>
                                        <p class="text-gray-500 dark:text-gray-400">{edu.degree}</p>
                                    </div>
                                    <span class="text-gray-500 dark:text-gray-400">{edu.period}</span>
                                </div>
                            ))
                        }
                    </div>

                    <!-- Certificates -->
                    <div class="mt-8">
                        <h3 class="text-xl font-bold mb-4 dark:text-white">Certificates</h3>
                        {
                            certificates.map((cert) => (
                                <div class="flex justify-between">
                                    <div>
                                        <h4 class="font-semibold dark:text-white">
                                            {cert.title}
                                        </h4>
                                        <p class="text-gray-500 dark:text-gray-400">
                                            {cert.institution}
                                        </p>
                                    </div>
                                    <span class="text-gray-500 dark:text-gray-400">{cert.year}</span>
                                </div>
                            ))
                        }
                    </div>
                </section>
            </div>
        </main>
    </div>
</GenericLayout>
